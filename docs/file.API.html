<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: API
  
    &mdash; Documentation by YARD 0.9.5
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "API";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: API</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <iframe id="search_frame" src="file_list.html"></iframe>

      <div id="content"><div id='filecontents'><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Version.Date: <strong>1.0.2016.09.25</strong></p>
</div>
<div class="paragraph">
<p>Omck on Rails has simple JSON API with multiple schemas to call API methods.</p>
</div>
<div class="paragraph">
<p>As for API v1.0 there is no standart, JSONP will be used for 1.1/2 version of API.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_api_access">Api access</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Clients must send JSON encoded requests with AUTH_TOKEN header. For example, to pull channels that currently is online using curl</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">curl -X GET -H "API_TOKEN: authtoken1314" -H "Content-Type: application/json" http://omck.tv/api/v1/channels/live</code></pre>
</div>
</div>
<div class="paragraph">
<p>Not all methods require AUTH_TOKEN like calling info about channel or tweets.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
auth_token can be found or set on the user account page
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Response with multiple objects will have plural namespace <code>{"channel": [Array&lt;ChannelSerializer&gt;]}</code>.</p>
</div>
<div class="paragraph">
<p>Single object in response almost always will be rendered in singular namespace like <code>{"channel": [ChannelSerializer]}</code>.</p>
</div>
<div class="paragraph">
<p>The response to this API call will always be a JSON structure:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>channels</span><span class='label_end'>&quot;:</span> <span class='lbracket'>[</span>
    <span class='lbrace'>{</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='label_end'>&quot;:</span> <span class='int'>127</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>channel</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>vinesauce</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>viewers</span><span class='label_end'>&quot;:</span> <span class='int'>0</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>live</span><span class='label_end'>&quot;:</span> <span class='kw'>true</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>game</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Games + Demos</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>title</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Vinny || MiWi (Chinese Wii Knockoff) </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>streamer</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>VineSauce</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>service</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>twitch</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>official</span><span class='label_end'>&quot;:</span> <span class='kw'>false</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://twitch.tv/vinesauce</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>player</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://player.twitch.tv/?channel=vinesauce</span><span class='tstring_end'>&quot;</span></span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='lbrace'>{</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='label_end'>&quot;:</span> <span class='int'>126</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>channel</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>esamarathon</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>viewers</span><span class='label_end'>&quot;:</span> <span class='int'>5171</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>live</span><span class='label_end'>&quot;:</span> <span class='kw'>true</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>game</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hitman 2: Silent Assassin</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>title</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Raising money for Save the Children - Hitman 2: Silent Assassin by Kotti</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>streamer</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>esamarathon</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>service</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>twitch</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>official</span><span class='label_end'>&quot;:</span> <span class='kw'>false</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://twitch.tv/esamarathon</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>player</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://player.twitch.tv/?channel=esamarathon</span><span class='tstring_end'>&quot;</span></span>
    <span class='rbrace'>}</span>
  <span class='rbracket'>]</span>
<span class='rbrace'>}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>All responses from the API will be <code>HTTP/1.0 200 OK</code>. If an error occurs, the reponse will have an <code>error</code> and a failure description in <code>message</code>.</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>error</span><span class='label_end'>&quot;:</span> <span class='kw'>true</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>message</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Access Denied</span><span class='tstring_end'>&quot;</span></span>
<span class='rbrace'>}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_api_methods">API Methods</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_channels">Channels</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Endpoint</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET /api/v1/channels/live</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get list of live channels</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET /api/v1/channels/all</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get list of all channels</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET /api/v1/channels/:service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get list of service&#8217;s channels</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET /api/v1/channels/:service/:channel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get Channel object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">POST /api/v1/channels/create</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create Channel object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">POST /api/v1/channels/:service/:channel/update</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update Channel object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DELETE /api/v1/channels/:service/:channel/delete</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DELETE Channel object</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_live">live</h4>
<div class="paragraph">
<p>Returns a list of live channels</p>
</div>
<div class="paragraph">
<p>Example Request</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">curl -X GET -H "Content-Type: application/json" http://omck.tv/api/v1/channels/live</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example Response</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>channels</span><span class='label_end'>&quot;:</span> <span class='lbracket'>[</span>
    <span class='lbrace'>{</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='label_end'>&quot;:</span> <span class='int'>127</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>channel</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>vinesauce</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>viewers</span><span class='label_end'>&quot;:</span> <span class='int'>0</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>live</span><span class='label_end'>&quot;:</span> <span class='kw'>true</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>game</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Games + Demos</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>title</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Vinny || MiWi (Chinese Wii Knockoff) </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>streamer</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>VineSauce</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>service</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>twitch</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>official</span><span class='label_end'>&quot;:</span> <span class='kw'>false</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://twitch.tv/vinesauce</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>player</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://player.twitch.tv/?channel=vinesauce</span><span class='tstring_end'>&quot;</span></span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='lbrace'>{</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='label_end'>&quot;:</span> <span class='int'>126</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>channel</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>esamarathon</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>viewers</span><span class='label_end'>&quot;:</span> <span class='int'>5171</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>live</span><span class='label_end'>&quot;:</span> <span class='kw'>true</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>game</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hitman 2: Silent Assassin</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>title</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Raising money for Save the Children - Hitman 2: Silent Assassin by Kotti</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>streamer</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>esamarathon</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>service</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>twitch</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>official</span><span class='label_end'>&quot;:</span> <span class='kw'>false</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://twitch.tv/esamarathon</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>player</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://player.twitch.tv/?channel=esamarathon</span><span class='tstring_end'>&quot;</span></span>
    <span class='rbrace'>}</span>
  <span class='rbracket'>]</span>
<span class='rbrace'>}</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_all">all</h4>
<div class="paragraph">
<p>Get a list of all channel objects</p>
</div>
<div class="paragraph">
<p>Example Request</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">curl -X GET -H "Content-Type: application/json" http://omck.tv/api/v1/channels/all</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example Response</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="code ruby"><code class="ruby">{
  &quot;channels&quot;: [
    {
      &quot;id&quot;: 127,
      &quot;channel&quot;: &quot;vinesauce&quot;,
      &quot;viewers&quot;: 0,
      &quot;live&quot;: true,
      &quot;game&quot;: &quot;Games + Demos&quot;,
      &quot;title&quot;: &quot;Vinny || MiWi (Chinese Wii Knockoff) &quot;,
      &quot;streamer&quot;: &quot;VineSauce&quot;,
      &quot;service&quot;: &quot;twitch&quot;,
      &quot;official&quot;: false,
      &quot;url&quot;: &quot;http://twitch.tv/vinesauce&quot;,
      &quot;player&quot;: &quot;http://player.twitch.tv/?channel=vinesauce&quot;
    },
    {
      &quot;id&quot;: 126,
      &quot;channel&quot;: &quot;esamarathon&quot;,
      &quot;viewers&quot;: 5171,
      &quot;live&quot;: true,
      &quot;game&quot;: &quot;Hitman 2: Silent Assassin&quot;,
      &quot;title&quot;: &quot;Raising money for Save the Children - Hitman 2: Silent Assassin by Kotti&quot;,
      &quot;streamer&quot;: &quot;esamarathon&quot;,
      &quot;service&quot;: &quot;twitch&quot;,
      &quot;official&quot;: false,
      &quot;url&quot;: &quot;http://twitch.tv/esamarathon&quot;,
      &quot;player&quot;: &quot;http://player.twitch.tv/?channel=esamarathon&quot;
    },
    ...
  ]
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_show">show</h4>
<div class="paragraph">
<p>Get a channel object by service name and channel aname</p>
</div>
<div class="paragraph">
<p>Example Request</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">curl -X GET -H "Content-Type: application/json" http://omck.tv/api/v1/channels/twitch/vinesauce</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example Response</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>channel</span><span class='label_end'>&quot;:</span>
    <span class='lbrace'>{</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='label_end'>&quot;:</span> <span class='int'>127</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>channel</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>vinesauce</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>viewers</span><span class='label_end'>&quot;:</span> <span class='int'>0</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>live</span><span class='label_end'>&quot;:</span> <span class='kw'>true</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>game</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Games + Demos</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>title</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Vinny || MiWi (Chinese Wii Knockoff) </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>streamer</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>VineSauce</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>service</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>twitch</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>official</span><span class='label_end'>&quot;:</span> <span class='kw'>false</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://twitch.tv/vinesauce</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>player</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://player.twitch.tv/?channel=vinesauce</span><span class='tstring_end'>&quot;</span></span>
    <span class='rbrace'>}</span>
<span class='rbrace'>}</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_service">service</h4>
<div class="paragraph">
<p>Get a list of channel objects by service name</p>
</div>
<div class="paragraph">
<p>Example Request</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">curl -X GET -H "Content-Type: application/json" http://omck.tv/api/v1/channels/twitch</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example Response</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>channels</span><span class='label_end'>&quot;:</span> <span class='lbracket'>[</span>
    <span class='lbrace'>{</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='label_end'>&quot;:</span> <span class='int'>127</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>channel</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>vinesauce</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>viewers</span><span class='label_end'>&quot;:</span> <span class='int'>0</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>live</span><span class='label_end'>&quot;:</span> <span class='kw'>true</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>game</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Games + Demos</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>title</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Vinny || MiWi (Chinese Wii Knockoff) </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>streamer</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>VineSauce</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>service</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>twitch</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>official</span><span class='label_end'>&quot;:</span> <span class='kw'>false</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://twitch.tv/vinesauce</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>player</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://player.twitch.tv/?channel=vinesauce</span><span class='tstring_end'>&quot;</span></span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='lbrace'>{</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='label_end'>&quot;:</span> <span class='int'>126</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>channel</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>esamarathon</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>viewers</span><span class='label_end'>&quot;:</span> <span class='int'>5171</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>live</span><span class='label_end'>&quot;:</span> <span class='kw'>true</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>game</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hitman 2: Silent Assassin</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>title</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Raising money for Save the Children - Hitman 2: Silent Assassin by Kotti</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>streamer</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>esamarathon</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>service</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>twitch</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>official</span><span class='label_end'>&quot;:</span> <span class='kw'>false</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://twitch.tv/esamarathon</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>player</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://player.twitch.tv/?channel=esamarathon</span><span class='tstring_end'>&quot;</span></span>
    <span class='rbrace'>}</span>
  <span class='rbracket'>]</span>
<span class='rbrace'>}</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_create">create</h4>
<div class="paragraph">
<p>Create new channel. Need api_token with admin or streamer permission.</p>
</div>
<div class="paragraph">
<p>Example Response</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">curl -X POST -H "AUTH_TOKEN: API_TOKEN" -H "Content-Type: application/json" -d '{"channel": {"service": "twitch", "channel": "kraken"}}' http://omck.tv/api/v1/channels/create</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example Response</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>channel</span><span class='label_end'>&quot;:</span>
    <span class='lbrace'>{</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='label_end'>&quot;:</span> <span class='int'>0</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>channel</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>kraken</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>viewers</span><span class='label_end'>&quot;:</span> <span class='int'>0</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>live</span><span class='label_end'>&quot;:</span> <span class='kw'>true</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>game</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>null</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>title</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>null</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>streamer</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>kraken</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>service</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>twitch</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>official</span><span class='label_end'>&quot;:</span> <span class='kw'>false</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://twitch.tv/kraken</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>player</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://player.twitch.tv/?channel=kraken</span><span class='tstring_end'>&quot;</span></span>
    <span class='rbrace'>}</span>
<span class='rbrace'>}</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_update">update</h4>
<div class="paragraph">
<p>Update channel. Needs auth_token with streamer or admin permission.</p>
</div>
<div class="paragraph">
<p>Example Request</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">curl -X POST -H "AUTH_TOKEN: auth_token" -H "Content-Type: application/json" -d '{"channel": {"viewers": 0, "title": "Boku no Pico"}}' "http://localhost:3000/api/v1/channels/twitch/kraken/update"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Input parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>viewers &lt;Integer&gt;</p>
</li>
<li>
<p>live &lt;Boolean&gt;</p>
</li>
<li>
<p>game &lt;String&gt;</p>
</li>
<li>
<p>title &lt;String&gt;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example Response</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>channel</span><span class='label_end'>&quot;:</span>
    <span class='lbrace'>{</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='label_end'>&quot;:</span> <span class='int'>127</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>channel</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>vinesauce</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>viewers</span><span class='label_end'>&quot;:</span> <span class='int'>0</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>live</span><span class='label_end'>&quot;:</span> <span class='kw'>true</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>game</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Games + Demos</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>title</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Vinny || MiWi (Chinese Wii Knockoff) </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>streamer</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>VineSauce</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>service</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>twitch</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>official</span><span class='label_end'>&quot;:</span> <span class='kw'>false</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://twitch.tv/vinesauce</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>player</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://player.twitch.tv/?channel=vinesauce</span><span class='tstring_end'>&quot;</span></span>
    <span class='rbrace'>}</span>
<span class='rbrace'>}</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_delete">delete</h4>
<div class="paragraph">
<p>Get a channel object by service name and channel aname</p>
</div>
<div class="paragraph">
<p>Example Request</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">curl -X DELETE -H "Content-Type: application/json" http://omck.tv/api/v1/channels/twitch/vinesauce/delete</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example Response</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="code ruby"><code class="ruby">{
  error: true or nil,
  message: &quot;Deleted!&quot; or [Error]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_keys">Keys</h3>
<div class="paragraph">
<p>All calls need auth token.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Endpoint</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET /api/v1/keys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get user&#8217;s key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET /api/v1/keys/all</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get all present keys</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET /api/v1/keys/guest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get all guest present keys</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET /api/v1/keys/authorize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check if key is valid</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">POST /api/v1/keys/create</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create new key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">POST /api/v1/keys/regenerate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expire old key and create new key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">POST /api/v1/keys/update</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DELETE /api/v1/keys/expire</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expire key</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_retrieve">retrieve</h4>
<div class="paragraph">
<p>Get token&#8217;s user key.</p>
</div>
<div class="paragraph">
<p>Example Request
<code>curl -X GET -H "API_TOKEN: api_token" -H "Content-Type: application/json" <a href="http://omck.tv/api/v1/keys" class="bare">http://omck.tv/api/v1/keys</a></code></p>
</div>
<div class="paragraph">
<p>Example Response</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>key</span><span class='label_end'>&quot;:</span> <span class='lbrace'>{</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='label_end'>&quot;:</span> <span class='int'>64</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>streamer</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>McDwarf</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>movie</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Boku Wa Tomodachi Ga Sekai</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>game</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Boku no Pico</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>guest</span><span class='label_end'>&quot;:</span> <span class='kw'>false</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>expires</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>2099-01-01</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>created_by</span><span class='label_end'>&quot;:</span> <span class='int'>2</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>created_by_name</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Peer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>created_by_screen_name</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>omckws</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>user_id</span><span class='label_end'>&quot;:</span> <span class='int'>2</span>
  <span class='rbrace'>}</span>
<span class='rbrace'>}</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_all_2">all</h4>
<div class="paragraph">
<p>Get list of all present keys. Requieres admin&#8217;s rights</p>
</div>
<div class="paragraph">
<p>Example Request
<code>curl -X GET -H "API_TOKEN: api_token" -H "Content-Type: application/json" <a href="http://omck.tv/api/v1/keys/all" class="bare">http://omck.tv/api/v1/keys/all</a></code></p>
</div>
<div class="paragraph">
<p>Example Response</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="code ruby"><code class="ruby">{
  &quot;keys&quot;: [
  {
    &quot;id&quot;: 64,
    &quot;streamer&quot;: &quot;McDwarf&quot;,
    &quot;movie&quot;: &quot;Boku Wa Tomodachi Ga Sekai&quot;,
    &quot;game&quot;: &quot;Boku no Pico&quot;,
    &quot;guest&quot;: false,
    &quot;expires&quot;: &quot;2099-01-01&quot;,
    &quot;created_by&quot;: 2,
    &quot;created_by_name&quot;: &quot;Peer&quot;,
    &quot;created_by_screen_name&quot;: &quot;omckws&quot;,
    &quot;user_id&quot;: 2
  },
  ...
  ]
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_guest">guest</h4>
<div class="paragraph">
<p>Get list of all present guest keys. Requieres admin&#8217;s rights.</p>
</div>
<div class="paragraph">
<p>Example Request
<code>curl -X GET -H "API_TOKEN: api_token" -H "Content-Type: application/json" <a href="http://omck.tv/api/v1/keys/guest" class="bare">http://omck.tv/api/v1/keys/guest</a></code></p>
</div>
<div class="paragraph">
<p>Example Response</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="code ruby"><code class="ruby">{
  &quot;keys&quot;: [
    {
      &quot;id&quot;: 38,
      &quot;streamer&quot;: &quot;Guest&quot;,
      &quot;movie&quot;: &quot;Boku Wa Tomodachi Ga Sekai&quot;,
      &quot;game&quot;: &quot;Pico No Chiko&quot;,
      &quot;guest&quot;: true,
      &quot;expires&quot;: &quot;2099-01-01&quot;,
      &quot;created_by&quot;: 2,
      &quot;created_by_name&quot;: &quot;Peer&quot;,
      &quot;created_by_screen_name&quot;: &quot;omckws&quot;,
      &quot;user_id&quot;: null
    },
    ...
  ]
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_create_2">create</h4>
<div class="paragraph">
<p>Create new key. Anyone can call. User_id param is required.</p>
</div>
<div class="paragraph">
<p>Example Request
<code>curl -X POST -H "API_TOKEN: api_token" -H "Content-Type: application/json" -d '{"user": {"user_id": 2}}' <a href="http://omck.tv/api/v1/keys/create" class="bare">http://omck.tv/api/v1/keys/create</a></code></p>
</div>
<div class="paragraph">
<p>Input:
- streaner &lt;String&gt;
- game &lt;String&gt;
- movie &lt;String&gt;
- title &lt;String&gt;
- guest &lt;Boolean&gt;</p>
</div>
<div class="paragraph">
<p>Example Response</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>key</span><span class='label_end'>&quot;:</span> <span class='lbrace'>{</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='label_end'>&quot;:</span> <span class='int'>64</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>streamer</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>McDwarf</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>movie</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Boku Wa Tomodachi Ga Sekai</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>game</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Boku no Pico</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>guest</span><span class='label_end'>&quot;:</span> <span class='kw'>false</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>expires</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>2099-01-01</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>created_by</span><span class='label_end'>&quot;:</span> <span class='int'>2</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>created_by_name</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Peer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>created_by_screen_name</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>omckws</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>user_id</span><span class='label_end'>&quot;:</span> <span class='int'>2</span>
  <span class='rbrace'>}</span>
<span class='rbrace'>}</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_regenerate">regenerate</h4>
<div class="paragraph">
<p>Expire old key and create new key. <code>User_id</code> param is required</p>
</div>
<div class="paragraph">
<p>Example Request
<code>curl -X POST -H "API_TOKEN: api_token" -H "Content-Type: application/json" -d '{"user": {"user_id": 2}}' <a href="http://omck.tv/api/v1/keys/regenerate" class="bare">http://omck.tv/api/v1/keys/regenerate</a></code></p>
</div>
<div class="paragraph">
<p>Example Response</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>key</span><span class='label_end'>&quot;:</span> <span class='lbrace'>{</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='label_end'>&quot;:</span> <span class='int'>64</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>streamer</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>McDwarf</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>movie</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Boku Wa Tomodachi Ga Sekai</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>game</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Boku no Pico</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>guest</span><span class='label_end'>&quot;:</span> <span class='kw'>false</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>expires</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>2099-01-01</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>created_by</span><span class='label_end'>&quot;:</span> <span class='int'>2</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>created_by_name</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Peer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>created_by_screen_name</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>omckws</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>user_id</span><span class='label_end'>&quot;:</span> <span class='int'>2</span>
  <span class='rbrace'>}</span>
<span class='rbrace'>}</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_update_2">update</h4>
<div class="paragraph">
<p>Update key. <code>User_id</code> param is required.</p>
</div>
<div class="paragraph">
<p>Example Request
<code>curl -X POST -H "API_TOKEN: api_token" -H "Content-Type: application/json" -d '{"user": {"user_id": 2, game: "not worth it"}}' <a href="http://omck.tv/api/v1/keys/update" class="bare">http://omck.tv/api/v1/keys/update</a></code></p>
</div>
<div class="paragraph">
<p>Input:
- streaner &lt;String&gt;
- game &lt;String&gt;
- movie &lt;String&gt;
- guest &lt;Boolean&gt;</p>
</div>
<div class="paragraph">
<p>Example Response</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>key</span><span class='label_end'>&quot;:</span> <span class='lbrace'>{</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='label_end'>&quot;:</span> <span class='int'>64</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>streamer</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>McDwarf</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>movie</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Boku Wa Tomodachi Ga Sekai</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>game</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>not worth it</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>guest</span><span class='label_end'>&quot;:</span> <span class='kw'>false</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>expires</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>2099-01-01</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>created_by</span><span class='label_end'>&quot;:</span> <span class='int'>2</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>created_by_name</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Peer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>created_by_screen_name</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>omckws</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>user_id</span><span class='label_end'>&quot;:</span> <span class='int'>2</span>
  <span class='rbrace'>}</span>
<span class='rbrace'>}</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_expire">expire</h4>
<div class="paragraph">
<p>Expire key. <code>User_id</code> param is required.</p>
</div>
<div class="paragraph">
<p>Example Request
<code>curl -X POST -H "API_TOKEN: api_token" -H "Content-Type: application/json" -d '{"user": {"user_id": 2}}' <a href="http://omck.tv/api/v1/keys/expire" class="bare">http://omck.tv/api/v1/keys/expire</a></code></p>
</div>
<div class="paragraph">
<p>Example Response</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>message</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ключ испарен!</span><span class='tstring_end'>&quot;</span></span>
<span class='rbrace'>}</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_authorize">authorize</h4>
<div class="paragraph">
<p>Authenticate and get key. <code>key</code> param is require</p>
</div>
<div class="paragraph">
<p>Example Request
<code>curl -X GET -H "API_TOKEN: api_token" -H "Content-Type: application/json" <a href="http://omck.tv/api/v1/keys/authorize?lekeykeykey" class="bare">http://omck.tv/api/v1/keys/authorize?lekeykeykey</a></code></p>
</div>
<div class="paragraph">
<p>Example Response</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>key</span><span class='label_end'>&quot;:</span> <span class='lbrace'>{</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='label_end'>&quot;:</span> <span class='int'>64</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>streamer</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>McDwarf</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>movie</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Boku Wa Tomodachi Ga Sekai</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>game</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>not worth it</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>guest</span><span class='label_end'>&quot;:</span> <span class='kw'>false</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>expires</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>2099-01-01</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>created_by</span><span class='label_end'>&quot;:</span> <span class='int'>2</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>created_by_name</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Peer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>created_by_screen_name</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>omckws</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>user_id</span><span class='label_end'>&quot;:</span> <span class='int'>2</span>
  <span class='rbrace'>}</span>
<span class='rbrace'>}</span></code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_streams">Streams</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Endpoint</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET /api/v1/keys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET /api/v1/keys/all</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET /api/v1/keys/guest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET /api/v1/keys/authorize</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">POST /api/v1/keys/create</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">POST /api/v1/keys/regenerate</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">POST /api/v1/keys/update</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DELETE /api/v1/keys/expire</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get user&#8217;s key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get all present keys</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get all guest present keys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check if key is valid</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create new key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expire old key and create new key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expire key</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div></div></div>

      <div id="footer">
  Generated on Thu Sep 29 19:06:41 2016 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.5 (ruby-2.3.1).
</div>

    </div>
  </body>
</html>